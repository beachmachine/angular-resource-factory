<!doctype html><html>  <head>    <meta charset="utf-8">    <title>JSDoc: ResourceStore</title>    <link href="css/prettify-tomorrow.css" type="text/css" rel="stylesheet">    <link href="css/site.css" type="text/css" rel="stylesheet">  </head>  <body ng-app="">    <nav id="toc">      <input placeholder="Filter" id="filter-input" class="col12 block field" type="text">      <div class="nav-wrapper">      <h2><a href="index.html">Index</a></h2>      <ul class="module">        <!-- undefined -->        <h2 class="module">          <a chref="" ng-click="moduleundefined = !moduleundefined">            module: undefined          </a>          <i ng-cloak="" ng-show="moduleundefined">+</i>        </h2>        <li id="undefined" ng-hide="moduleundefined">          <ul class="group">            <h2>              <a href="" ng-click="undefinedconstructor = !undefinedconstructor">                constructor              </a>              <i ng-cloak="" ng-show="undefinedconstructor">+</i>            </h2>            <ul ng-hide="undefinedconstructor">              <li>                <a href="ResourceCache.html">ResourceCache</a>              </li><li>                <a href="ResourceFactory.html">ResourceFactory</a>              </li><li>                <a href="ResourcePhantomIdFactory.html">ResourcePhantomIdFactory</a>              </li><li>                <a href="ResourceStore.html">ResourceStore</a>              </li><li>                <a href="ResourceStoreRelation.html">ResourceStoreRelation</a>              </li>            </ul>          </ul><ul class="group">            <h2>              <a href="" ng-click="undefinedfactory = !undefinedfactory">                factory              </a>              <i ng-cloak="" ng-show="undefinedfactory">+</i>            </h2>            <ul ng-hide="undefinedfactory">              <li>                <a href="ResourceCacheService.html">ResourceCacheService</a>              </li><li>                <a href="ResourceFactoryService.html">ResourceFactoryService</a>              </li><li>                <a href="ResourcePhantomIdNegativeInt.html">ResourcePhantomIdNegativeInt</a>              </li><li>                <a href="ResourcePhantomIdUuid4.html">ResourcePhantomIdUuid4</a>              </li>            </ul>          </ul><ul class="group">            <h2>              <a href="" ng-click="undefinedservice = !undefinedservice">                service              </a>              <i ng-cloak="" ng-show="undefinedservice">+</i>            </h2>            <ul ng-hide="undefinedservice">              <li>                <a href="ResourcePhantomIdFactoryService.html">ResourcePhantomIdFactoryService</a>              </li>            </ul>          </ul>        </li>      </ul>      </div>    </nav>    <div id="content" class="page-wrap">      <h3 style="float:right; color:#ccc">        Angular constructor      </h3>      <h1 class="title">        ResourceStore        <a class="name-link signature-attributes" href="source/ResourceStore.html#line912">source</a>      </h1>      <div id="main" class="big-container">        <!-- source code html -->        <!-- index.html -->        <!-- class files -->        <div>          <div><div class="container-overview">  <ul class="chips">  </ul>  <div class="clearfix"></div>  <div class="description">    <h4>Description</h4>    <p>Constructor function for a resource store. A resource store manages inserts, updates and
deletes of instances, can create sub-stores that commit changes to the parent store, and
sets up relations between resource types (e.g. to update reference keys).</p>  </div>  <div class="details"></div></div><div class="functions">  <h3 class="subsection-title">Methods</h3>  <dl>    <dt>      <a href="source/ResourceStore.html#line1766" class="name-link" id="addResourceInstance">        <h4 class="name">          addResourceInstance          <span class="signature">()</span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Adds the given instance to the given list of instances. Does nothing if the instance
is already in the list of instances.</p>        </span>      </div>      <div>        <h4>Parameters</h4>        <table class="params">          <thead>            <tr><th>Name</th><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1905" class="name-link" id="copy">        <h4 class="name">          copy          <span class="signature">()</span>          <span class="type-signature">            -&gt; *          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Copies the source object to the destination object (or array). Keeps private
attributes on the <code>dst</code> object (attributes starting with $ are private).</p>        </span>      </div>      <div>        <h4>Parameters</h4>        <table class="params">          <thead>            <tr><th>Name</th><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>          </tbody>        </table>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  *                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1959" class="name-link" id="init">        <h4 class="name">          init          <span class="signature">()</span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Initializes the store instance</p>        </span>      </div>      <div>        <h4>Parameters</h4>        <table class="params">          <thead>            <tr><th>Name</th><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1820" class="name-link" id="isPromiseLike">        <h4 class="name">          isPromiseLike          <span class="signature">()</span>          <span class="type-signature">            -&gt; *|boolean          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Internal function for checking if an object can be treated as an promise.</p>        </span>      </div>      <div>        <h4>Parameters</h4>        <table class="params">          <thead>            <tr><th>Name</th><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>          </tbody>        </table>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  *|boolean                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1934" class="name-link" id="merge">        <h4 class="name">          merge          <span class="signature">()</span>          <span class="type-signature">            -&gt; *          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Merges the source object to the destination object (or array). Keeps private
attributes on the <code>dst</code> object (attributes starting with $ are private).</p>        </span>      </div>      <div>        <h4>Parameters</h4>        <table class="params">          <thead>            <tr><th>Name</th><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>          </tbody>        </table>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  *                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1837" class="name-link" id="populate">        <h4 class="name">          populate          <span class="signature">()</span>          <span class="type-signature">            -&gt; *          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Populates the destination object <code>dst</code> by copying the non-private data from <code>src</code> object. The data
on the <code>dst</code> object will be a deep copy of the data on the <code>src</code>. This function will not copy
attributes of the <code>src</code> whose names start with &quot;$&quot;. These attributes are considered private. The
method will also keep the private attributes of the <code>dst</code>.</p>        </span>      </div>      <div>        <h4>Parameters</h4>        <table class="params">          <thead>            <tr><th>Name</th><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>          </tbody>        </table>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  *                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1795" class="name-link" id="removeResourceInstance">        <h4 class="name">          removeResourceInstance          <span class="signature">()</span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Removes the given instance from the given list of instances. Does nothing if the instance
is not in the list of instances.</p>        </span>      </div>      <div>        <h4>Parameters</h4>        <table class="params">          <thead>            <tr><th>Name</th><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1696" class="name-link" id="self.addAfterPersistListener">        <h4 class="name">          self.addAfterPersistListener        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Adds a after-persist listener.</p>        </span>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1738" class="name-link" id="self.addAfterRemoveListener">        <h4 class="name">          self.addAfterRemoveListener        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Adds a after-remove listener.</p>        </span>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1670" class="name-link" id="self.addBeforePersistListener">        <h4 class="name">          self.addBeforePersistListener        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Adds a before-persist listener.</p>        </span>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1191" class="name-link" id="self.commit">        <h4 class="name">          self.commit        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Commits changes to the parent store</p>        </span>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1508" class="name-link" id="self.createChildStore">        <h4 class="name">          self.createChildStore          <span class="type-signature">            -&gt; ResourceStore          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Creates a new child store from the current store. This store can make changes
to it's managed instances and it will not affect the current stores
instances until the child store commits.</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  <a href="ResourceStore.html">ResourceStore</a>                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1524" class="name-link" id="self.createRelation">        <h4 class="name">          self.createRelation          <span class="type-signature">            -&gt; ResourceStoreRelation          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Adds a relation to another store.</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  <a href="ResourceStoreRelation.html">ResourceStoreRelation</a>                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1293" class="name-link" id="self.execute">        <h4 class="name">          self.execute          <span class="type-signature">            -&gt; Promise          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Execute the change queue and clears the change queue if clearAfter is set to true (default).</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  <a href="Promise.html">Promise</a>                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1248" class="name-link" id="self.executeAll">        <h4 class="name">          self.executeAll          <span class="type-signature">            -&gt; Promise          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Executes the change queue on this an all related stores and clears the change queue if clearAfter is
set to true (default).</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  <a href="Promise.html">Promise</a>                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1057" class="name-link" id="self.forget">        <h4 class="name">          self.forget        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Forget (un-manage) given instances. The instances object may be a ng-resource result,
a promise, a list of instances or a single instance.</p>        </span>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1577" class="name-link" id="self.getByInstance">        <h4 class="name">          self.getByInstance          <span class="type-signature">            -&gt; Object|undefined          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Gets the managed instance from the store that matches the given
instance (which might by an copy that is not managed or managed by
another store). The instances are matched by their PK attribute.</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  Object|undefined                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1564" class="name-link" id="self.getByPk">        <h4 class="name">          self.getByPk          <span class="type-signature">            -&gt; Object|undefined          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Gets the managed instance from the store that matches the given
PK attribute value.</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  Object|undefined                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1590" class="name-link" id="self.getManagedInstances">        <h4 class="name">          self.getManagedInstances          <span class="type-signature">            -&gt; Array          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Gets a list of instances visible for the user.</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  Array                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1610" class="name-link" id="self.getPersistQueue">        <h4 class="name">          self.getPersistQueue          <span class="type-signature">            -&gt; Array          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Gets a list of instances marked for persist.</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  Array                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1620" class="name-link" id="self.getRemoveQueue">        <h4 class="name">          self.getRemoveQueue          <span class="type-signature">            -&gt; Array          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Gets a list of instances marked for remove.</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  Array                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1660" class="name-link" id="self.getResource">        <h4 class="name">          self.getResource          <span class="type-signature">            -&gt; *          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Gets the managed resource service.</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  *                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1630" class="name-link" id="self.getSaveQueue">        <h4 class="name">          self.getSaveQueue          <span class="type-signature">            -&gt; Array          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Gets a list of instances marked for save (insert).</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  Array                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1645" class="name-link" id="self.getUpdateQueue">        <h4 class="name">          self.getUpdateQueue          <span class="type-signature">            -&gt; Array          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Gets a list of instances marked for update.</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  Array                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1600" class="name-link" id="self.getVisibleQueue">        <h4 class="name">          self.getVisibleQueue          <span class="type-signature">            -&gt; Array          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Gets a list of instances visible for the user.</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  Array                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line995" class="name-link" id="self.manage">        <h4 class="name">          self.manage        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Manage given instances. The new instances object may be a ng-resource result,
a promise, a list of instances or a single instance.</p>        </span>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1121" class="name-link" id="self.new">        <h4 class="name">          self.new          <span class="type-signature">            -&gt; *          </span>        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Returns a new instance managed by the store.</p>        </span>      </div>      <div>        <h4>Returns</h4>        <table class="params">          <thead>            <tr><th>Type</th><th class="last">Description</th></tr>          </thead>          <tbody>            <tr>              <td class="type">                <span class="param-type">                  *                </span>              </td>              <td class="description last">              </td>            </tr>          </tbody>        </table>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1136" class="name-link" id="self.persist">        <h4 class="name">          self.persist        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Queues given instance for persistence.</p>        </span>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1164" class="name-link" id="self.remove">        <h4 class="name">          self.remove        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Queues given instance for deletion.</p>        </span>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1706" class="name-link" id="self.removeAfterPersistListener">        <h4 class="name">          self.removeAfterPersistListener        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Removes a after-persist listener.</p>        </span>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1748" class="name-link" id="self.removeAfterRemoveListener">        <h4 class="name">          self.removeAfterRemoveListener        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Removes a after-remove listener.</p>        </span>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1680" class="name-link" id="self.removeBeforePersistListener">        <h4 class="name">          self.removeBeforePersistListener        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Removes a before-persist listener.</p>        </span>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1722" class="name-link" id="self.removeBeforeRemoveListener">        <h4 class="name">          self.removeBeforeRemoveListener        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Removes a before-remove listener.</p>        </span>      </div>    </dd>  </dl><dl>    <dt>      <a href="source/ResourceStore.html#line1546" class="name-link" id="self.removeRelation">        <h4 class="name">          self.removeRelation        </h4>      </a>    </dt>    <dd>      <div class="description">        <span>          <p>Removes a relation from the store.</p>        </span>      </div>    </dd>  </dl></div></div>        </div>      </div>      <footer style="clear:both">        Documentation generated by        <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a>        using        <a href="https://github.com/allenhwkim/angular-jsdoc">Angular-JSDoc template</a>      </footer>    </div>    <script src="js/prettify.js"></script>    <script src="js/angular.min.js"></script>    <script src="js/site.js"></script>    <!--%= prettyJson %-->    <script>      prettyPrint();      var lineNo = window.location.hash.match(/#line([0-9]+)$/);      lineNo && document.querySelector("ol li:nth-child("+(lineNo[1])+")").scrollIntoView();    </script>  </body></html>